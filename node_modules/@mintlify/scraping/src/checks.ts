import { Framework } from './scraping/detectFramework.js';

// This checks the link is written correctly, not that the page exists.
export function checkUrl({ url }: { url: string }) {
  try {
    new URL(url);
  } catch {
    throw Error(`Invalid link: ${url}\nMake sure the link starts with http:// or https://`);
  }
  return true;
}

export function checkVersion({
  tool,
  docusaurusVersion,
}: {
  tool: Framework | undefined;
  docusaurusVersion: string | undefined;
}) {
  if (tool === 'docusaurus') {
    if (docusaurusVersion === undefined) {
      throw Error(
        'When using Docusaurus, you must specify the version (1,2,3) using the --docusaurusVersion flag'
      );
    }
  } else {
    if (docusaurusVersion !== undefined) {
      throw Error('The --docusaurusVersion flag is only applicable when using Docusaurus.');
    }
  }
  return true;
}
